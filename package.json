{
  "name": "trovatask-push-notification",
  "version": "14.0.0",
  "description": "TrovaTask Push Notification System v14.0 - Multi-Device Production Implementation with Device-Specific Mapping using Official Appwrite Messaging API and Firebase Auth Integration",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "test": "echo \"No tests configured\" && exit 0"
  },
  "keywords": [
    "appwrite",
    "messaging",
    "push-notification",
    "fcm",
    "firebase",
    "trovatask",
    "real-time",
    "notifications",
    "cloud-function",
    "multi-device",
    "device-mapping"
  ],
  "author": "TrovaTask Engineering Team <engineering@trovatask.com>",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/trovatask/push-notification-function"
  },
  "dependencies": {
    "node-appwrite": "^13.0.0"
  },
  "engines": {
    "node": ">=18.0.0"
  },
  "appwrite": {
    "function": {
      "name": "trovatask-push-notification",
      "runtime": "node-18.0",
      "events": [
        "databases.ChatDatabase.collections.messages.documents.*.create"
      ],
      "timeout": 45,
      "memory": 512
    }
  },
  "changelog": {
    "14.0.0": "Multi-device support: sends notifications to ALL user devices, device-specific mapping, per-device error handling, human-readable device names in logs, JSON parsing for devices field, backward compatibility with single-device users",
    "13.1.0": "Fixed FCM data payload - all fields must be strings",
    "13.0.0": "Production-ready version with smart user lookup, comprehensive logging, and error handling",
    "12.0.0": "Added user mapping support and pagination",
    "11.0.0": "Implemented newest user fallback logic",
    "10.0.0": "Official Appwrite Messaging API integration",
    "6.0.0": "Initial version with basic push notification support"
  },
  "features": {
    "multiDevice": true,
    "deviceMapping": true,
    "fallbackSupport": true,
    "perDeviceErrorHandling": true,
    "comprehensiveLogging": true,
    "backwardCompatible": true
  },
  "compatibility": {
    "appwriteManager": "v11.0+",
    "androidApp": "TrovaTask",
    "database": "UserDatabase.users with devices field"
  }
}
